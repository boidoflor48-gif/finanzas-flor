<!DOCTYPE html> <html lang="es"> <head> <meta charset="UTF-8"> <meta name="viewport"content="width=device-width, initial-scale=1.0"> <title>Mis Finanzas</title> <linkhref="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:wght@400;600;700&family=Jost:wght@300;400;500&display=swap" rel="stylesheet"><style> :root { --bg:#f5f0e8;--bg2:#ede6d6;--surface:#faf7f2;--surface2:#ede6d6; --terra:#b5603a;--terra-light:#d4856a;--moss:#4a6741;--moss-light:#6b8f62; --ochre:#c49a3c;--bark:#3d2b1f;--text:#2c1f14;--text-muted:#8a7060; --border:rgba(61,43,31,0.12);--shadow:0 2px 16px rgba(61,43,31,0.08); } *{margin:0;padding:0;box-sizing:border-box;}body{background:var(--bg);color:var(--text);font-family:'Jost',sans-serif;font-weight:300;min-height:100vh;background-image:radial-gradient(ellipse at 10% 0%,rgba(181,96,58,0.08) 0%,transparent 50%),radial-gradient(ellipse at 90%100%,rgba(74,103,65,0.08) 0%,transparent 50%);} header{background:var(--bark);color:#f5f0e8;padding:1.4rem2rem;display:flex;align-items:center;justify-content:space-between;position:sticky;top:0;z-index:10;box-shadow:0 2px20px rgba(61,43,31,0.25);} .logo{font-family:'Cormorant Garamond',serif;font-size:1.7rem;font-weight:600;color:#f5f0e8;line-height:1;} .logo em{display:block;font-size:0.7rem;font-family:'Jost',sans-serif;font-weight:300;font-style:normal;color:rgba(245,240,232,0.55);letter-spacing:2px;text-transform:uppercase;margin-top:2px;}.month-nav{display:flex;align-items:center;gap:0.8rem;background:rgba(255,255,255,0.08);border:1px solid rgba(255,255,255,0.15);border-radius:100px;padding:0.4rem 1.1rem;} .month-navbutton{background:none;border:none;color:rgba(245,240,232,0.7);cursor:pointer;font-size:1.1rem;transition:color 0.2s;}.month-nav button:hover{color:#f5f0e8;} .month-nav span{font-size:0.85rem;min-width:115px;text-align:center;color:#f5f0e8;} main{max-width:860px;margin:0 auto;padding:2rem 1.5rem 4rem;} .income-hero{background:var(--bark);border-radius:20px;padding:1.8rem 2rem;margin-bottom:1.5rem;color:#f5f0e8;position:relative;overflow:hidden;animation:fadeUp 0.5s ease both;} .income-hero::before{content:'';position:absolute;right:-40px;top:-40px;width:200px;height:200px;border-radius:50%;background:rgba(181,96,58,0.15);} .income-hero::after{content:'';position:absolute;right:30px;bottom:-60px;width:150px;height:150px;border-radius:50%;background:rgba(74,103,65,0.12);} .income-top{display:flex;justify-content:space-between;align-items:flex-start;margin-bottom:1.2rem;position:relative;z-index:1;} .income-label{font-size:0.7rem;text-transform:uppercase;letter-spacing:2px;color:rgba(245,240,232,0.55);margin-bottom:0.4rem;} .income-amount{font-family:'Cormorant Garamond',serif;font-size:2.8rem;font-weight:700;line-height:1;color:#f5f0e8;} .income-meta{text-align:right;} .goal-label{font-size:0.7rem;text-transform:uppercase;letter-spacing:2px;color:rgba(245,240,232,0.55);margin-bottom:0.4rem;}.goal-val{font-family:'Cormorant Garamond',serif;font-size:1.4rem;color:rgba(245,240,232,0.75);} .goal-edit{display:block;margin-top:0.3rem;background:rgba(255,255,255,0.1);border:1px solid rgba(255,255,255,0.15);border-radius:8px;color:rgba(245,240,232,0.7);font-size:0.75rem;font-family:'Jost',sans-serif;padding:0.25rem 0.6rem;cursor:pointer;transition:background 0.2s;margin-left:auto;} .goal-edit:hover{background:rgba(255,255,255,0.18);color:#f5f0e8;} .progress-wrap{position:relative;z-index:1;} .progress-label{display:flex;justify-content:space-between;font-size:0.78rem;color:rgba(245,240,232,0.6);margin-bottom:0.5rem;}.progress-label strong{color:#f5f0e8;} .progress-bg{height:8px;background:rgba(255,255,255,0.12);border-radius:100px;overflow:hidden;} .progress-fill{height:100%;border-radius:100px;background:linear-gradient(90deg,var(--moss-light),var(--ochre));transition:width 0.8s cubic-bezier(0.4,0,0.2,1);} .summary-row{display:grid;grid-template-columns:1fr 1fr;gap:1rem;margin-bottom:1.5rem;} .card{background:var(--surface);border:1px solid var(--border);border-radius:16px;padding:1.3rem 1.5rem;box-shadow:var(--shadow);animation:fadeUp 0.5s ease both;}.card:nth-child(2){animation-delay:0.08s;} .card-label{font-size:0.68rem;text-transform:uppercase;letter-spacing:2px;color:var(--text-muted);margin-bottom:0.5rem;} .card-amount{font-family:'Cormorant Garamond',serif;font-size:2rem;font-weight:700;line-height:1;} .card-amount.expense{color:var(--terra);} .card-amount.balance-pos{color:var(--moss);} .card-amount.balance-neg{color:var(--terra);} .card-sub{font-size:0.78rem;color:var(--text-muted);margin-top:0.35rem;} .section-title{font-family:'Cormorant Garamond',serif;font-size:1.25rem;font-weight:600;color:var(--bark);margin-bottom:0.9rem;display:flex;align-items:center;gap:0.8rem;} .section-title::after{content:'';flex:1;height:1px;background:var(--border);} .section-title span{flex-shrink:0;} .add-section{margin-bottom:2rem;} .tabs{display:flex;gap:0.3rem;background:var(--surface2);border:1px solid var(--border);border-radius:12px;padding:0.3rem;width:fit-content;margin-bottom:1rem;} .tab{padding:0.45rem 1.2rem;border-radius:8px;border:none;background:none;color:var(--text-muted);cursor:pointer;font-family:'Jost',sans-serif;font-size:0.85rem;transition:all 0.2s;} .tab.active.gasto{background:var(--terra);color:#fff;}.tab.active.ingreso{background:var(--moss);color:#fff;} .form-grid{display:grid;grid-template-columns:1fr 1fr 1frauto;gap:0.8rem;align-items:end;} .form-group{display:flex;flex-direction:column;gap:0.35rem;} label{font-size:0.68rem;text-transform:uppercase;letter-spacing:1.5px;color:var(--text-muted);} input,select{background:var(--surface);border:1px solid var(--border);border-radius:10px;padding:0.65rem 0.9rem;color:var(--text);font-family:'Jost',sans-serif;font-size:0.9rem;font-weight:300;outline:none;width:100%;transition:border-color 0.2s,box-shadow 0.2s;box-shadow:var(--shadow);} input:focus,select:focus{border-color:var(--terra);box-shadow:0 0 0 3pxrgba(181,96,58,0.1);} select option{background:var(--surface);} .btn-add{background:var(--terra);color:#fff;border:none;border-radius:10px;padding:0.65rem 1.4rem;font-family:'Jost',sans-serif;font-weight:500;cursor:pointer;font-size:0.9rem;white-space:nowrap;transition:opacity 0.2s,transform 0.1s;box-shadow:0 3px12px rgba(181,96,58,0.3);} .btn-add.ingreso-btn{background:var(--moss);box-shadow:0 3px 12px rgba(74,103,65,0.3);}.btn-add:hover{opacity:0.9;transform:translateY(-1px);} .btn-add:active{transform:translateY(0);} .budget-section{margin-bottom:2rem;} .budget-item{background:var(--surface);border:1px solid var(--border);border-radius:12px;padding:1rem 1.2rem;margin-bottom:0.5rem;box-shadow:var(--shadow);transition:border-color 0.2s;}.budget-item:hover{border-color:rgba(181,96,58,0.3);} .budget-top{display:flex;justify-content:space-between;align-items:center;margin-bottom:0.5rem;} .budget-name{font-size:0.9rem;display:flex;align-items:center;gap:0.5rem;color:var(--bark);} .budget-amounts{font-size:0.78rem;color:var(--text-muted);} .budget-amounts strong{color:var(--text);} .bar-bg{height:5px;background:var(--bg2);border-radius:100px;overflow:hidden;}.bar-fill{height:100%;border-radius:100px;transition:width 0.7s cubic-bezier(0.4,0,0.2,1),background-color 0.7s ease;}.toggle-manage{background:none;border:none;color:var(--text-muted);cursor:pointer;font-size:0.8rem;font-family:'Jost',sans-serif;padding:0.3rem 0;transition:color 0.2s;display:flex;align-items:center;gap:0.4rem;} .toggle-manage:hover{color:var(--terra);} .manage-budgets{background:var(--surface);border:1px solid var(--border);border-radius:14px;padding:1.2rem;margin-top:0.8rem;box-shadow:var(--shadow);} .budget-form-grid{display:grid;grid-template-columns:56px 1fr 1fr auto;gap:0.6rem;align-items:end;margin-bottom:0.8rem;} .btn-sm{background:var(--surface2);border:1px solid var(--border);border-radius:8px;padding:0.6rem 0.9rem;color:var(--text);cursor:pointer;font-family:'Jost',sans-serif;font-size:0.85rem;transition:border-color 0.2s,color 0.2s;} .btn-sm:hover{border-color:var(--terra);color:var(--terra);} .transactions-section{margin-bottom:2rem;} .transaction-item{display:flex;align-items:center;gap:1rem;padding:0.85rem 0;border-bottom:1px solid var(--border);animation:fadeUp 0.3s ease both;} .tx-icon{width:38px;height:38px;background:var(--bg2);border-radius:10px;display:flex;align-items:center;justify-content:center;font-size:1rem;flex-shrink:0;border:1px solid var(--border);} .tx-info{flex:1;min-width:0;} .tx-desc{font-size:0.88rem;color:var(--text);white-space:nowrap;overflow:hidden;text-overflow:ellipsis;} .tx-cat{font-size:0.73rem;color:var(--text-muted);margin-top:1px;} .tx-right{text-align:right;flex-shrink:0;} .tx-amount{font-family:'Cormorant Garamond',serif;font-size:1.05rem;font-weight:600;} .tx-amount.pos{color:var(--moss);} .tx-amount.neg{color:var(--terra);} .tx-date{font-size:0.72rem;color:var(--text-muted);margin-top:1px;} .tx-delete{background:none;border:none;color:var(--text-muted);cursor:pointer;font-size:0.85rem;padding:0.2rem0.4rem;border-radius:6px;opacity:0;transition:opacity 0.2s,color 0.2s;flex-shrink:0;} .transaction-item:hover .tx-delete{opacity:1;} .tx-delete:hover{color:var(--terra);} .modal-overlay{position:fixed;inset:0;background:rgba(44,31,20,0.45);backdrop-filter:blur(4px);display:flex;align-items:center;justify-content:center;z-index:100;animation:fadeIn 0.2s ease;} .modal{background:var(--surface);border-radius:18px;padding:2rem;width:320px;box-shadow:0 20px 60px rgba(44,31,20,0.25);animation:fadeUp 0.3s ease;}.modal h3{font-family:'Cormorant Garamond',serif;font-size:1.3rem;color:var(--bark);margin-bottom:0.4rem;} .modalp{font-size:0.83rem;color:var(--text-muted);margin-bottom:1.2rem;line-height:1.5;} .modal-btns{display:flex;gap:0.6rem;margin-top:1rem;} .btn-cancel{flex:1;padding:0.65rem;border-radius:10px;border:1px solid var(--border);background:none;color:var(--text-muted);cursor:pointer;font-family:'Jost',sans-serif;font-size:0.88rem;transition:border-color 0.2s;} .btn-cancel:hover{border-color:var(--text-muted);} .btn-confirm{flex:1;padding:0.65rem;border-radius:10px;border:none;background:var(--moss);color:#fff;cursor:pointer;font-family:'Jost',sans-serif;font-size:0.88rem;font-weight:500;transition:opacity 0.2s;} .btn-confirm:hover{opacity:0.85;}.empty-state{text-align:center;padding:1.5rem;color:var(--text-muted);font-size:0.88rem;}.hidden{display:none!important;} @keyframesfadeUp{from{opacity:0;transform:translateY(10px);}to{opacity:1;transform:translateY(0);}} @keyframesfadeIn{from{opacity:0;}to{opacity:1;}} @media(max-width:640px){header{padding:1rem1.2rem;}main{padding:1.2rem 1rem 3rem;}.form-grid{grid-template-columns:1fr 1fr;}.budget-form-grid{grid-template-columns:50px 1fr;}.summary-row{grid-template-columns:1fr;}.income-amount{font-size:2.2rem;}} </style> </head><body> <header> <div class="logo">Mis Finanzas<em>control personal</em></div> <div class="month-nav"> <buttononclick="changeMonth(-1)">&#8249;</button> <span id="monthLabel"></span> <buttononclick="changeMonth(1)">&#8250;</button> </div> </header> <main> <div class="income-hero"> <divclass="income-top"> <div> <div class="income-label">Cobrado este mes</div> <div class="income-amount"id="totalIncome">$0</div> </div> <div class="income-meta"> <div class="goal-label">Meta mensual</div> <divclass="goal-val" id="goalDisplay">$200.000</div> <button class="goal-edit" onclick="openGoalModal()">editar meta</button> </div> </div> <div class="progress-wrap"> <div class="progress-label"> <span id="progressText">0% alcanzado</span> <strong id="remainingText">Te faltan $200.000</strong> </div> <div class="progress-bg"><divclass="progress-fill" id="progressFill" style="width:0%"></div></div> </div> </div> <div class="summary-row"> <divclass="card"> <div class="card-label">Gastos del mes</div> <div class="card-amount expense"id="totalExpense">$0</div> <div class="card-sub" id="expenseCount">0 gastos registrados</div> </div> <divclass="card"> <div class="card-label">Balance</div> <div class="card-amount balance-pos"id="totalBalance">$0</div> <div class="card-sub" id="balanceMsg">--</div> </div> </div> <div class="add-section"><div class="section-title"><span>Nuevo movimiento</span></div> <div class="tabs"> <button class="tab active gasto"id="tabGasto" onclick="setType('gasto')">Gasto</button> <button class="tab" id="tabIngreso"onclick="setType('ingreso')">Ingreso</button> </div> <div class="form-grid"> <div class="form-group"><label>Descripcion</label><input type="text" id="txDesc" placeholder="ej: Supermercado"/></div> <div class="form-group"><label>Monto ($)</label><input type="number" id="txAmount" placeholder="0" min="0"/></div> <divclass="form-group" id="catGroup"><label>Categoria</label><select id="txCat"></select></div> <div class="form-group"><label>Fecha</label><input type="date" id="txDate"/></div> <button class="btn-add" id="btnAdd"onclick="addTransaction()">Agregar</button> </div> </div> <div class="budget-section"> <div class="section-title"><span>Presupuestos</span></div> <div id="budgetList"></div> <button class="toggle-manage"onclick="toggleManage()"><span id="manageIcon">+</span> Administrar categorias y limites</button> <divclass="manage-budgets hidden" id="manageBudgets"> <div class="budget-form-grid"> <div class="form-group"><label>Emoji</label><input type="text" id="catEmoji" placeholder="?" maxlength="2" style="text-align:center"/></div> <div class="form-group"><label>Nombre</label><input type="text" id="catName" placeholder="Nueva categoria"/></div> <div class="form-group"><label>Limite ($)</label><input type="number" id="catLimit"placeholder="0" min="0"/></div> <button class="btn-sm" onclick="addCategory()">Agregar</button> </div> <divid="catManageList"></div> </div> </div> <div class="transactions-section"> <div class="section-title"><span>Movimientos</span></div> <div id="transactionList"></div> </div> </main> <div class="modal-overlay hidden"id="goalModal"> <div class="modal"> <h3>Meta mensual de ingresos</h3> <p>Cuanto esperas cobrar este mes? Podes cambiarlo cada mes segun tu esquema de trabajo.</p> <div class="form-group"><label>Meta ($)</label><inputtype="number" id="goalInput" placeholder="200000" min="0"/></div> <div class="modal-btns"> <button class="btn-cancel" onclick="closeGoalModal()">Cancelar</button> <button class="btn-confirm"onclick="saveGoal()">Guardar</button> </div> </div> </div> <script> var state={currentMonth:newDate().toISOString().slice(0,7),monthGoals:{},defaultGoal:200000,categories:[{id:1,name:'Comida',emoji:'üçΩ',limit:50000},{id:2,name:'Ahorros',emoji:'üè¶',limit:50000},{id:3,name:'Ropa',emoji:'üëó',limit:36000},{id:4,name:'Estetica y Salud',emoji:'üíÜ',limit:24000},{id:5,name:'Gym',emoji:'üèã',limit:20000},{id:6,name:'Transporte',emoji:'üöå',limit:20000}],transactions:[],nextId:1,nextCatId:100}; var currentType='gasto'; function loadData(){try{vars=localStorage.getItem('misFinanzasV2');if(s)state=JSON.parse(s);}catch(e){}} function saveData(){localStorage.setItem('misFinanzasV2',JSON.stringify(state));} var MONTHS=['Enero','Febrero','Marzo','Abril','Mayo','Junio','Julio','Agosto','Septiembre','Octubre','Noviembre','Diciembre']; functionchangeMonth(d){var parts=state.currentMonth.split('-');var y=parseInt(parts[0]);var m=parseInt(parts[1]);var nd=newDate(y,m-1+d);state.currentMonth=nd.getFullYear()+'-'+(nd.getMonth()+1<10?'0':'')+(nd.getMonth()+1);saveData();render();} function getMonthLabel(ym){var parts=ym.split('-');returnMONTHS[parseInt(parts[1])-1]+' '+parts[0];} function getCurrentGoal(){returnstate.monthGoals[state.currentMonth]||state.defaultGoal;} function openGoalModal(){document.getElementById('goalInput').value=getCurrentGoal();document.getElementById('goalModal').classList.remove('hidden');}function closeGoalModal(){document.getElementById('goalModal').classList.add('hidden');} function saveGoal(){varv=parseFloat(document.getElementById('goalInput').value);if(v>0){state.monthGoals[state.currentMonth]=v;saveData();render();}closeGoalModal();} function setType(type){currentType=type;var tg=document.getElementById('tabGasto');varti=document.getElementById('tabIngreso');tg.className='tab'+(type==='gasto'?' active gasto':'');ti.className='tab'+(type==='ingreso'?' active ingreso':'');document.getElementById('btnAdd').className='btn-add'+(type==='ingreso'?' ingreso-btn':'');document.getElementById('catGroup').style.visibility=type==='ingreso'?'hidden':'visible';updateCategorySelect();}function updateCategorySelect(){var sel=document.getElementById('txCat');sel.innerHTML='<option value="">Sin categoria</option>';state.categories.forEach(function(c){sel.innerHTML+='<option value="'+c.id+'">'+c.emoji+' '+c.name+'</option>';});} function addCategory(){var emoji=document.getElementById('catEmoji').value.trim()||'üìÅ';varname=document.getElementById('catName').value.trim();varlimit=parseFloat(document.getElementById('catLimit').value)||0;if(!name)return;state.categories.push({id:state.nextCatId++,name:name,emoji:emoji,limit:limit});document.getElementById('catEmoji').value='';document.getElementById('catName').value='';document.getElementById('catLimit').value='';saveData();render();}function deleteCategory(id){state.categories=state.categories.filter(function(c){return c.id!==id;});saveData();render();}function updateLimit(id,v){var cat=state.categories.find(function(c){return c.id===id;});if(cat){cat.limit=parseFloat(v)||0;saveData();render();}} function addTransaction(){vardesc=document.getElementById('txDesc').value.trim();varamount=parseFloat(document.getElementById('txAmount').value);varcatId=parseInt(document.getElementById('txCat').value)||null;vardateVal=document.getElementById('txDate').value||state.currentMonth+'-'+(new Date().getDate()<10?'0':'')+newDate().getDate();if(!desc||!amount||amount<=0){alert('Completa la descripcion y el monto.');return;}state.transactions.push({id:state.nextId++,desc:desc,amount:amount,type:currentType,catId:catId,date:dateVal,month:dateVal.slice(0,7)});document.getElementById('txDesc').value='';document.getElementById('txAmount').value='';saveData();render();}function deleteTransaction(id){state.transactions=state.transactions.filter(function(t){returnt.id!==id;});saveData();render();} function toggleManage(){var panel=document.getElementById('manageBudgets');varicon=document.getElementById('manageIcon');panel.classList.toggle('hidden');icon.textContent=panel.classList.contains('hidden')?'+':'-';} function fmt(n){return '$'+Math.round(n).toLocaleString('es-AR');} function getBarColor(pct){varp=Math.min(pct,100)/100;var stops=[[0,[74,103,65]],[0.5,[140,140,50]],[0.75,[196,154,60]],[0.9,[200,100,50]],[1.0,[181,96,58]]];var from=stops[0];var to=stops[1];for(var i=0;i<stops.length-1;i++){if(p>=stops[i][0]&&p<=stops[i+1][0]){from=stops[i];to=stops[i+1];break;}}var range=to[0]-from[0];var t=range===0?0:(p-from[0])/range;varc=from[1].map(function(v,i){return Math.round(v+(to[1][i]-v)*t);});return'rgb('+c[0]+','+c[1]+','+c[2]+')';} functionrender(){var month=state.currentMonth;var monthTx=state.transactions.filter(function(t){return t.month===month;});varinTx=monthTx.filter(function(t){return t.type==='ingreso';});var exTx=monthTx.filter(function(t){returnt.type==='gasto';});var income=inTx.reduce(function(s,t){return s+t.amount;},0);var expense=exTx.reduce(function(s,t){return s+t.amount;},0);var balance=income-expense;var goal=getCurrentGoal();var pct=goal>0?Math.min((income/goal)*100,100):0;var remaining=Math.max(goal-income,0);document.getElementById('monthLabel').textContent=getMonthLabel(month);document.getElementById('totalIncome').textContent=fmt(income);document.getElementById('goalDisplay').textContent=fmt(goal);document.getElementById('progressFill').style.width=pct+'%';document.getElementById('progressText').textContent=Math.round(pct)+'% alcanzado';document.getElementById('remainingText').textContent=remaining>0?'Te faltan '+fmt(remaining):'Meta alcanzada!';document.getElementById('totalExpense').textContent=fmt(expense);document.getElementById('expenseCount').textContent=exTx.length+' gasto'+(exTx.length!==1?'s':'')+' registrado'+(exTx.length!==1?'s':''); varbalEl=document.getElementById('totalBalance');balEl.textContent=fmt(balance);balEl.className='card-amount '+(balance>=0?'balance-pos':'balance-neg'); document.getElementById('balanceMsg').textContent=balance>=0?'Tus ingresos superan los gastos':'Los gastos superan los ingresos'; var budEl=document.getElementById('budgetList');if(state.categories.length===0){budEl.innerHTML='<div class="empty-state">No hay categorias todavia.</div>';}else{budEl.innerHTML=state.categories.map(function(cat){var spent=exTx.filter(function(t){returnt.catId===cat.id;}).reduce(function(s,t){return s+t.amount;},0);var lim=cat.limit;var p=lim>0?Math.min((spent/lim)*100,100):0;var barColor=getBarColor(p);var limTxt=lim>0?fmt(spent)+' de '+fmt(lim):fmt(spent)+' gastado';return'<div class="budget-item"><div class="budget-top"><div class="budget-name">'+cat.emoji+' '+cat.name+'</div><div class="budget-amounts">'+limTxt+'</div></div>'+(lim>0?'<div class="bar-bg"><div class="bar-fill" style="width:'+p+'%;background:'+barColor+'"></div></div>':'')+'</div>';}).join('');}document.getElementById('catManageList').innerHTML=state.categories.map(function(cat){return'<div style="display:flex;gap:0.6rem;align-items:center;margin-bottom:0.5rem"><span style="font-size:1.1rem">'+cat.emoji+'</span><span style="flex:1;font-size:0.88rem">'+cat.name+'</span><input type="number" value="'+cat.limit+'" placeholder="Limite $" min="0" style="width:110px;font-size:0.8rem;padding:0.4rem 0.6rem" onchange="updateLimit('+cat.id+',this.value)"/><button class="btn-sm" onclick="deleteCategory('+cat.id+')" style="color:var(--terra);padding:0.4rem 0.7rem">x</button></div>';}).join(''); updateCategorySelect(); vartxEl=document.getElementById('transactionList');var sorted=monthTx.slice().sort(function(a,b){returnb.date.localeCompare(a.date);}); if(sorted.length===0){txEl.innerHTML='<div class="empty-state">No hay movimientos este mes.</div>';} else{txEl.innerHTML=sorted.map(function(tx,i){var cat=state.categories.find(function(c){return c.id===tx.catId;});var icon=cat?cat.emoji:(tx.type==='ingreso'?'üí∞':'üí∏');var dateF=tx.date?tx.date.split('-').reverse().join('/'):'';var catName=cat?cat.name:(tx.type==='ingreso'?'Ingreso':'Sin categoria');return'<div class="transaction-item" style="animation-delay:'+(i*0.04)+'s"><div class="tx-icon">'+icon+'</div><div class="tx-info"><div class="tx-desc">'+tx.desc+'</div><div class="tx-cat">'+catName+' - '+dateF+'</div></div><div class="tx-right"><div class="tx-amount '+(tx.type==='ingreso'?'pos':'neg')+'">'+(tx.type==='ingreso'?'+':'-')+fmt(tx.amount)+'</div></div><button class="tx-delete" onclick="deleteTransaction('+tx.id+')">x</button></div>';}).join('');}} loadData();document.getElementById('txDate').valueAsDate=new Date(); render(); </script> </body> </html>